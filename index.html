<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page title</title>
</head>
<body>
    <script type="module">
   import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, fetchSignInMethodsForEmail } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js";

// Your Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyAxMSbx5OoHAav-st3h8DbCUZ9aZCcHnI8",
  authDomain: "programming-community-80d94.firebaseapp.com",
  projectId: "programming-community-80d94",
  storageBucket: "programming-community-80d94.firebasestorage.app",
  messagingSenderId: "103513211773",
  appId: "1:103513211773:web:cb90e77287f005b7870214",
  measurementId: "G-MMZD11XDNK"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth(app); 
        


  // Function to check email registration status
  async function checkEmailRegistration(email) {
    try {
      // Check if email is registered using Firebase's method
      const signInMethods = await fetchSignInMethodsForEmail(auth, email);
      
      if (signInMethods.length > 0) {
        return {
          exists: true,
          methods: signInMethods,
          message: "✅ Email is already registered"
        };
      } else {
        return {
          exists: false,
          methods: [],
          message: "❌ Email is not registered"
        };
      }
    } catch (error) {
      console.error("Error checking email:", error);
      return {
        exists: null,
        methods: [],
        message: `⚠️ Error: ${error.message}`
      };
    }
  }

  // Usage example
  async function checkEmail() {
    const email = "haymanot589@gmail.com"; // Replace with your email
    const result = await checkEmailRegistration(email);
    
    console.log(result.message);
    console.log("Authentication methods:", result.methods);
    
    // Display result on page
    const resultElement = document.getElementById('result');
    if (resultElement) {
      resultElement.innerHTML = `
        <p>${result.message}</p>
        ${result.methods.length > 0 ? `<p>Methods: ${result.methods.join(', ')}</p>` : ''}
      `;
    }
  }



        
    </script>
</body>
</html>